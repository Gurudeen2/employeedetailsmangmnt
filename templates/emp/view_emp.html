<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>View Employee Details</title>
    <link
      href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css"
      rel="stylesheet"
      id="bootstrap-css"
    />
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />

    <style>
      .btn-file {
        position: relative;
        overflow: hidden;
      }
      .btn-file input[type="file"] {
        position: absolute;
        top: 0;
        right: 0;
        min-width: 100%;
        min-height: 100%;
        font-size: 100px;
        text-align: right;
        filter: alpha(opacity=0);
        opacity: 0;
        outline: none;
        background: white;
        cursor: inherit;
        display: block;
      }

      #img-upload {
        width: 100%;
      }
    </style>
  </head>
  <body>
    {% include 'emp/navbar.html' %}
    <h1 class="text-center my-3">View Employee</h1>

    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <div id="image-preview-div">
              <!-- <label for="exampleInputFile">Image image:</label>
              <br /> -->
              <img  src="{{single_emp.photo.url}}"  width="100%" height="760"/>
            </div>
          </div>
        </div>
        

        <div class="col-md-6">
          <!-- <div class="col-md-6 offset-md-3"> -->
          <div class="card bg-light text-black">
            <div class="card-body">
              <form >
                {% csrf_token %}

                <!-- <label>Upload Image</label>
                <p class="lead">
                  Select a PNG or JPEG image, having maximum size
                  <span id="max-size"></span> KB.
                </p> -->

                <!-- <div class="form-group">
                  <input
                    type="file"
                    accept="image/jpeg, image/png, image/jpg"
                    name="file"
                    id="file"
                    required
                  />
                </div> -->

                <!--Employee Name-->
                <div class="mb-3">
                  <label for="name">Name</label>
                  <input
                    id="name"
                    type="text"
                    class="form-control"
                    placeholder="Enter Name"
                    name="emp_name"
                    value="{{single_emp.name}}"
                    readonly
                  />
                </div>

                <!--Gender-->
                <div class="mb-3">
                  <label for="id">Gender</label>
                  <select
                    class="form-control"
                    name="emp_gender"
                    aria-label="Default select example"
                   
                    readonly
                  >
                    <!-- <option selected>---select---</option> -->
                    <option value="{{single_emp.gender}}">{{single_emp.gender}}</option>
                 
                  </select>
                </div>

                <!--Age-->
                <div class="mb-3">
                  <label for="name">Age</label>
                  <input
                    id="name"
                    type="text"
                    class="form-control"
                    placeholder="Enter Age"
                    name="emp_age"
                    value="{{single_emp.age}}"
                    readonly
                  />
                </div>

                <!--Religion-->


 <div class="mb-3">
                  <label for="religion">Religon</label>
                  <select
                    name="emp_religion"
                    id="religion"
                    class="form-control"
                   
                    readonly
                  >
                    <option value="{{single_emp.religion}}">{{single_emp.religion}}</option>
                  
                  </select>
                </div>


                <!--Phone Number-->
                <div class="mb-3">
                  <label for="phone">Phone</label>
                  <input
                    id="phone"
                    type="text"
                    class="form-control"
                    placeholder="Enter Employee Phone"
                    name="emp_phone"
                    value="{{single_emp.phone}}"
                    readonly
                  />
                </div>

                <!--Employee Qualification-->
                <div class="mb-3">
                  <label for="qualification">Qualifications</label>
                  <textarea
                    name="emp_qualification"
                    id="qualification"
                    rows="4"
                    class="form-control"
                    placeholder="Enter Qualifications"
                    value="{{single_emp.qualification}}"
                    readonly
                  >{{single_emp.qualification}}</textarea>
                </div>

                <!--Working experience-->
                <div class="mb-3">
                  <label for="experience">Working Experience</label>
                  <textarea
                    name="emp_experience"
                    id="experience"
                    rows="4"
                    class="form-control"
                    placeholder="Enter Wokring Experience"
                    value="{{single_emp.experience}}"
                    readonly
                  >{{single_emp.experience}}</textarea>
                </div>

                <!--Clcinet-->
                <div class="mb-3">
                  <label for="client">Client</label>
                  <input
                    id="client"
                    type="text"
                    class="form-control"
                    placeholder="Enter Client"
                    name="emp_client"
                    value="{{single_emp.client}}"
                    readonly
                  />
                </div>

                <!--Start Worked-->
                <div class="mb-3">
                  <label for="working">Date Started Working</label>
                  <input
                    id="working"
                    name="emp_working"
                    type="date"
                    class="form-control"
                     value="{{single_emp.date_startwork|date:'Y-m-d'}}"
                    readonly
                  />
{% if emp_info != 0 %}
                  <p class="small text-danger bold">Due for Salary in {{emp_info}} Days</p>
                  {% endif %}
                </div>

                <!--Departments-->
                <div class="mb-3">
                  <label for="department">Department</label>
                  <select
                    name="emp_department"
                    id="department"
                    class="form-control"
                  
                    readonly
                  >
                    <option value="{{single_emp.department}}" >{{single_emp.department}}</option>
                    
                  </select>
                </div>

                  <!-- style="background-color: #39b5e0" -->
                <!--Add Employee Button-->
                <div class="container text-center">
                  <a href="/emp/home/" class="btn btn-danger" 
                  >
                    Close
                  </a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>

    <script>
    
      function selectImage(e) {
        $("#file").css("color", "green");
        $("#image-preview-div").css("display", "block");
        $("#preview-img").attr("src", e.target.result);
        $("#preview-img").css("max-width", "550px");
      }

      $(document).ready(function (e) {
        var maxsize = 500 * 1024; // 500 KB

        $("#max-size").html((maxsize / 1024).toFixed(2));


        $("#file").change(function () {
          $("#message").empty();

          var file = this.files[0];
          var match = ["image/jpeg", "image/png", "image/jpg"];

          if (
            !(
              file.type == match[0] ||
              file.type == match[1] ||
              file.type == match[2]
            )
          ) {
            noPreview();

            $("#message").html(
              '<div class="alert alert-warning" role="alert">Unvalid image format. Allowed formats: JPG, JPEG, PNG.</div>'
            );

            return false;
          }

          if (file.size > maxsize) {
            noPreview();

            $("#message").html(
              '<div class="alert alert-danger" role="alert">The size of image you are attempting to upload is ' +
                (file.size / 1024).toFixed(2) +
                " KB, maximum size allowed is " +
                (maxsize / 1024).toFixed(2) +
                " KB</div>"
            );

            return false;
          }

          $("#upload-button").removeAttr("disabled");

          var reader = new FileReader();
          reader.onload = selectImage;
          reader.readAsDataURL(this.files[0]);
        });
      });
    </script>
  </body>
</html>
